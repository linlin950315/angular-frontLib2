<p>book-list works!</p>
<h2>ğŸ“š ä¹¦ç±åˆ—è¡¨(åŠ åˆ†é¡µ æ’åºåŠŸèƒ½NG æŸ¥æ‰¾åŠŸèƒ½ æ ¹æ®categoryIDç­›é€‰åŠŸèƒ½ æ‰“tagï¼Œä¸€ä¸ªbookidï¼Œå¯¹åº”å¤šä¸ªtagï¼ŒtagæŸ¥é‡åŠŸèƒ½)</h2>
<button (click)="deleteBook()" [disabled]="selectedBook.length === 0">åˆ é™¤é€‰ä¸­çš„ä¹¦ç±</button>
<button type="button" (click)="addBook()">å¢åŠ ä¹¦ç±</button>
<!-- Angular Material è¡¨æ ¼ -->
<!--Angular çš„ *matCellDef è¯­æ³•ï¼Œç”¨äºéå† dataSource ä¸­çš„æ•°æ®ï¼Œæ¯ä¸€è¡Œéƒ½ä¼šè‡ªåŠ¨ç»‘å®šå½“å‰è¡Œçš„ element å’Œ index å˜é‡ã€‚-->

<div class="mat-elevation-z8">
<table border="1" mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">

  <!-- æ ¹æ®IDé€‰æ‹© -->
<ng-container matColumnDef="checkbox">
  <th mat-header-cell *matHeaderCellDef> é€‰æ‹© </th>
  <td mat-cell *matCellDef="let book">
    <input type="checkbox" [value]="book.bookId" (change)="toggleSelection(book.bookId)" >
  </td>
</ng-container>

<!--ç¼–è¾‘æŒ‰é’®-->
<ng-container matColumnDef="edit">
  <th mat-header-cell *matHeaderCellDef> ç¼–è¾‘ </th>
  <td mat-cell *matCellDef="let book">
    <a [routerLink]="['/admin/book/', book.bookId]">edit</a>
  </td>
</ng-container>

<!-- Position Column-->
  <ng-container matColumnDef="demo-position">
  <th mat-header-cell *matHeaderCellDef> No. </th>
  <td mat-cell *matCellDef="let book; let i = index">
    {{ getDisplayIndex(i) }}</td>
</ng-container>

<!-- ID -->
<ng-container matColumnDef="bookId">
  <th mat-header-cell *matHeaderCellDef mat-sort-header> BOOKID </th>
  <td mat-cell *matCellDef="let book"> {{ book.bookId }} </td>
</ng-container>

<!-- ä¹¦å -->
<ng-container matColumnDef="book_name">
  <th mat-header-cell *matHeaderCellDef mat-sort-header > ä¹¦å </th>
  <td mat-cell *matCellDef="let book"> {{ book.book_name }} </td>
</ng-container>

<!-- åˆ†ç±» -->
<ng-container matColumnDef="category_id">
  <th mat-header-cell *matHeaderCellDef> åˆ†ç±» </th>
  <td mat-cell *matCellDef="let book"> {{ book.category.categoryName }} </td>
</ng-container>
<!-- åˆ†ç±» -->
<ng-container matColumnDef="categoryName">
  <th mat-header-cell *matHeaderCellDef> //åˆ†ç±»Id</th>
  <td mat-cell *matCellDef="let book"> {{ book.category.categoryId }} </td>
</ng-container>
<!-- ä»·æ ¼ -->
<ng-container matColumnDef="price">
  <th mat-header-cell *matHeaderCellDef> ä»·æ ¼ </th>
  <td mat-cell *matCellDef="let book"> {{ book.price | currency:'CNY' }} </td>
</ng-container>

<!-- åº“å­˜ -->
<ng-container matColumnDef="counts">
  <th mat-header-cell *matHeaderCellDef> åº“å­˜ </th>
  <td mat-cell *matCellDef="let book"
      [ngClass]="{ 'out-of-stock' : book.counts === 0, 'low-stock': book.counts > 0 && book.counts < 5 }">
    {{ book.counts }}
  </td>
</ng-container>

<!-- çŠ¶æ€ -->
<ng-container matColumnDef="status">
  <th mat-header-cell *matHeaderCellDef> çŠ¶æ€ </th>
  <td mat-cell *matCellDef="let book"> {{ book.status === 1 ? 'å¯å€Ÿ' : 'ä¸å¯å€Ÿ' }} </td>
</ng-container>

<!-- åˆ›å»ºæ—¶é—´ -->
<ng-container matColumnDef="createTime">
  <th mat-header-cell *matHeaderCellDef> åˆ›å»ºæ—¶é—´ </th>
  <td mat-cell *matCellDef="let book"> {{ book.createTime | date:'yyyy-MM-dd HH:mm' }} </td>
</ng-container>

<!-- æ›´æ–°æ—¶é—´ -->
<ng-container matColumnDef="updateTime">
  <th mat-header-cell *matHeaderCellDef> æ›´æ–°æ—¶é—´ </th>
  <td mat-cell *matCellDef="let book"> {{ book.updateTime | date:'yyyy-MM-dd HH:mm' }} </td>
</ng-container>

<!-- è¡¨å¤´è¡Œ -->
<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

<!-- æ•°æ®è¡Œ -->
<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

<!-- Row shown when there is no matching data.
 <tr class="mat-row" *matNoDataRow>
  <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
</tr>-->

</table>
<!-- -->
<!--åˆ†é¡µ https://material.angular.io/components/table/examples-->


<!-- åˆ†é¡µå™¨ è¿™ä¸ªå’Œtsçš„this.dataSource.data = data.content|| []; ä¼šå‡ºé—®é¢˜ï¼›å’Œthis.dataSourceä¸€èµ·ï¼Œsortå¤±æ•ˆ-->
<mat-paginator [length]="totalElements"
               [pageSize]="pageSize"
               [pageSizeOptions]="[5, 10, 15, 25]"
               (page)="onPageChange($event)">
</mat-paginator>

</div>


